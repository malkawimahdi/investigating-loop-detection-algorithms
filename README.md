# Investigating Loop Detection Algorithms

This repository contains existing and new loop detection algorithms, which aim to answer the question: "What is contained within a loop?" All programs operate on control flow graphs (CFGs); however, the developed algorithms: 1, 2, 3A and 3B operate upon implementing CFGs as doubly linked lists, whereby each node within the CFG can reference at most two additional nodes, constrained to be a CFG. 

Each algorithm conforms to a specific loop definition. Each algorithm is tested against a common set of tests to determine what nodes are detected by each algorithm. The outputs for each algorithm are located in: ```algorithms/ALGORITHM/ALGORITHM-results```. 

## Prerequisites
A **UNIX** derivative, preferably Debian/Ubuntu or MacOS, is required to compile each algorithm and generate similar results.

[Bash v5.1.16(1)+](https://www.gnu.org/software/bash/) to run shell-scripts

[GCC v13.1.1+](https://gcc.gnu.org/install/binaries.html) to use G++ as a C++ Compiler to compile algorithms 1 to 3. Please ensure the version installed is compatible with C++ 17.

[CBMC v5.77.0+](https://github.com/diffblue/cbmc/releases) to generate Lexical and Natural Loops results.

[Graphviz v2.40.1+](https://graphviz.org/download/) to generate a CFG visualizing the (\*c) program used by shell scripts.

[GNU Time v1.9](https://ftp.gnu.org/gnu/time/) | [GNU Time Mac v1.9](https://formulae.brew.sh/formula/gnu-time) to include measurement of program runtime, CPU and RAM resource usage.

## Algorithms
Within each algorithms folder, there are two sub-folders for each generated algorithm. One folder contains the algorithm's source code, while the other contains the results generated.

CBMC algorithms deviate from this as the source code for their implementations is locatable on the hyperlinks below to the specific commit used for each algorithm, such that if the algorithms deviate after the project, the code visible is exact as to what the results within the project have generated.

[CBMC Lexical Loops](https://github.com/diffblue/cbmc/blob/cafbcc44856ee3d3007b1f53de24a8b1c44580b6/src/analyses/lexical_loops.h#L1)

[CBMC Natural Loops](https://github.com/diffblue/cbmc/blob/cafbcc44856ee3d3007b1f53de24a8b1c44580b6/src/analyses/natural_loops.h#L1)

## CBMC Bugs
Contains folders for each generated bug report containing the supporting evidence for each bug report. A text file contains the URL to the submitted bug report for each bug.

## CFG Test Cases
Contains a (\*.c) program and its equivalent representation as a CFG. (\*.goto) is an intermediary generated by CBMC to generate (\*.dot) file Graphviz output. Each folder contains a single test case and the equivalent representation as a CFG viewable as a (*.pdf).

## Scripts
Contains shell scripts to generate results for all algorithms compared, invokable by running:

```
chmod +x ./{SCRIPTNAME}.sh

./{SCRIPTNAME}.sh
```

where ``` SCRIPTNAME ``` is either ```./run-developed.sh``` to generate results for developed algorithms or ```./run-cbmc.sh``` based on CBMC's lexical and natural loops algorithms.
